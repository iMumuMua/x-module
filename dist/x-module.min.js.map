{"version":3,"sources":["x-module.js"],"names":["getMod","name","mods","i","len","length","runMod","mod","modules","push","done","deps","fn","apply","xModule","def","_deps","_fn","run","callback","exports","module","this"],"mappings":"CAAA,WAEI,YA2BA,SAASA,GAAOC,EAAMC,GAClB,IAAK,GAAIC,GAAI,EAAGC,EAAMF,EAAKG,OAAYD,EAAJD,EAASA,IACxC,GAAIF,IAASC,EAAKC,GAAGF,KACjB,MAAOC,GAAKC,GAKxB,QAASG,GAAOL,EAAMC,GAClB,GAAIK,GAAMP,EAAOC,EAAMC,EAMvB,IALKK,IACDA,EAAMP,EAAOC,EAAMO,GACnBN,EAAKO,KAAKF,KAGTA,EAAIG,KAAM,CAEX,IAAK,GADDC,MACKR,EAAI,EAAGC,EAAMG,EAAII,KAAKN,OAAYD,EAAJD,EAASA,IAC5CQ,EAAKF,KAAKH,EAAOC,EAAII,KAAKR,GAAID,GAElCK,GAAIG,KAAOH,EAAIK,GAAGC,MAAM,KAAMF,GAGlC,MAAOJ,GAAIG,KAhDf,GAAII,MACAN,IAEJM,GAAQC,IAAM,SAASd,EAAMU,EAAMC,GAC/B,GAAII,GAAOC,CACS,mBAATN,GACPM,EAAMN,GAGNK,EAAQL,EACRM,EAAML,GAGVJ,EAAQC,MACJR,KAAMA,EACNU,KAAMK,EAAQA,KACdJ,GAAIK,KAIZH,EAAQI,IAAM,SAASjB,EAAMkB,GACzB,GAAIjB,KACJiB,GAASb,EAAOL,EAAMC,KA6BH,gBAAZkB,UAA0C,gBAAXC,QACtCA,OAAOD,QAAUN,EAGjBQ,KAAKR,QAAUA","file":"x-module.min.js","sourcesContent":["(function() {\n\n    'use strict';\n\n    var xModule = {};\n    var modules = [];\n\n    xModule.def = function(name, deps, fn) {\n        var _deps, _fn;\n        if (typeof deps === 'function') {\n            _fn = deps;\n        }\n        else {\n            _deps = deps;\n            _fn = fn;\n        }\n\n        modules.push({\n            name: name,\n            deps: _deps ? _deps : [],\n            fn: _fn\n        });\n    };\n\n    xModule.run = function(name, callback) {\n        var mods = [];\n        callback(runMod(name, mods));\n    };\n\n    function getMod(name, mods) {\n        for (var i = 0, len = mods.length; i < len; i++) {\n            if (name === mods[i].name) {\n                return mods[i];\n            }\n        }\n    }\n\n    function runMod(name, mods) {\n        var mod = getMod(name, mods);\n        if (!mod) {\n            mod = getMod(name, modules);\n            mods.push(mod);\n        }\n\n        if (!mod.done) {\n            var deps = [];\n            for (var i = 0, len = mod.deps.length; i < len; i++) {\n                deps.push(runMod(mod.deps[i], mods));\n            }\n            mod.done = mod.fn.apply(null, deps);\n        }\n\n        return mod.done;\n    }\n\n    if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = xModule;\n    }\n    else {\n        this.xModule = xModule;\n    }\n\n})();\n"],"sourceRoot":"/source/"}